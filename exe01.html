<html>
    
    <head>
       <meta charset="utf-8">
        <title>DCC104 - Exemplo 01</title>
    </head>
    <body>
        <h1>DCC104 - Exemplo 01</h1>
        <canvas></canvas>
        <script>
        var eCanvas = document.getElementsByTagName("canvas")[0]; 
        var contexto = eCanvas.getContext("2d");
             
        var azul = {
            x:0,
            y:50
        };
            
        var fps = 30;
        var atual = new Date();
        var anterior = new Date();    
        var dt = 1/fps;    
    
        desenha();    
            
        function desenha(){
        requestAnimationFrame(desenha);    
        atual = new Date();
        dt  = (atual - anterior)/1000;   
        contexto.clearRect(0,0,eCanvas.width,eCanvas.height)
        contexto.fillText("DT: "+ dt + "    FPS: " + Math.floor(1/dt),10,30);
        azul.x = azul.x + 20 * dt;
        azul.y = azul.y + 20 * dt;    
        desenhaAzul(contexto);
        desenhaVermelho(contexto);
        anterior = atual;
        }    
            
        function desenhaAzul(contexto){    
        
         contexto.fillStyle = "blue";
         contexto.fillRect(azul.x,azul.y,15,15);
         contexto.lineWidth = 2
         contexto.strokeRect(azul.x,azul.y,15,15);
         
        }
            
        function desenhaVermelho(contexto){    
        
         contexto.fillStyle = "red";
         contexto.fillRect(60,50,15,15); 
         contexto.lineWidth = 2
         contexto.strokeRect(60,50,15,15)
         
        }
            
        </script>
    </body>
</html>